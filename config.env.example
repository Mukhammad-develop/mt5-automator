# MT5 Trading Automator Configuration
# Instructions: Copy this file to "config.env" and fill in your actual credentials

# ===== TELEGRAM SETTINGS =====
TELEGRAM_API_ID=your_api_id_here
TELEGRAM_API_HASH=your_api_hash_here
TELEGRAM_PHONE=+1234567890
TELEGRAM_SESSION=mt5_automator_session

# Telegram channels to monitor (comma-separated)
# You can use channel usernames or IDs
# Example: google_target_qaaw,-1003397933414,premium_signals
TELEGRAM_CHANNELS=google_target_qaaw

# ===== MT5 SETTINGS =====
MT5_LOGIN=your_mt5_login
MT5_PASSWORD=your_mt5_password
MT5_SERVER=your_broker_server_name

# ===== DEEPSEEK AI SETTINGS =====
# Get your API key from: https://platform.deepseek.com/
DEEPSEEK_API_KEY=sk-your-actual-deepseek-api-key-here

# ===== TRADING SETTINGS =====
# ✅ Bot can trade ANY pair (EURUSD, GBPUSD, XAUUSD, BTCUSD, etc.)
# The symbol is automatically read from the signal
# DEFAULT_SYMBOL is only used if the signal doesn't mention a pair

RISK_PERCENT=1.0          # Risk per trade (1.0 = 1% of account balance)
NUM_POSITIONS=3           # Number of positions per signal (3, 6, or 9)
DEFAULT_SYMBOL=BTCUSD     # Fallback symbol if signal doesn't specify

# Breakeven settings (DEPRECATED - Use Trailing Stop instead)
# For BTCUSD: 1.0 = $1.00, 5.0 = $5.00, etc.
# Set to false to disable breakeven (recommended - use Trailing Stop instead)
BREAKEVEN_ENABLED=false
BREAKEVEN_TRIGGER=middle_entry  # When to trigger: middle_entry or lower_entry  
BREAKEVEN_OFFSET=5.0            # How far past trigger before moving SL (in points)

# Trailing Stop Settings (NEW - Recommended!)
# Automatically follows price and locks in growing profits
# For BUY: SL moves UP as price goes UP (never moves down)
# For SELL: SL moves DOWN as price goes DOWN (never moves up)
TRAILING_STOP_ENABLED=true              # Enable trailing stop
TRAILING_STOP_PIPS=20                   # Distance in pips (20 pips = $20 for BTCUSD)
TRAILING_STOP_ACTIVATION_PIPS=10        # Start trailing after X pips profit (0 = immediate)

# Position 3 "Runner" Strategy (Advanced)
# Position 3 (farthest entry) stays open after TP2 with trailing stop
# This captures extended moves beyond TP2 target
# When TP2 is reached: Position 3 switches from fixed SL to trailing stop
POSITION_3_RUNNER_ENABLED=true          # Enable runner strategy for Position 3
POSITION_3_TRAILING_AFTER_TP2=true      # Activate trailing stop after TP2 (not before)

# TP2 Protection Settings
# When TP2 is hit, should remaining positions move to breakeven?
TP2_MOVE_TO_BREAKEVEN=true      # Protect profits after TP2 (recommended: true)

# Position TP Assignment
# Position 1 (upper entry): Which TP should it target?
# Options: TP1 (default, closes earlier) or TP2 (stays longer)
POSITION_1_TP=TP1               # Change to TP2 if you want all positions to target TP2

# Staged Entry Settings
# Prevents all 3 positions from filling at once when price sweeps through range
# When enabled, only places LIMIT orders at prices that haven't been touched yet
STAGED_ENTRY_ENABLED=true       # Recommended: prevents mass fills

# ===== SYMBOL MAPPING (Optional - Auto-Detection Enabled!) =====
# ✅ The bot now AUTO-DETECTS broker symbol names!
# You only need this if you want to override automatic detection
# Format: SIGNAL_NAME=BROKER_NAME,SIGNAL_NAME=BROKER_NAME
# Example: XAUUSD=XAUUSD+,EURUSD=EURUSD.a,GBPUSD=GBPUSD#
# Leave empty to use automatic detection (recommended)
SYMBOL_MAPPING=

# ===== MODE SETTINGS =====
# Set to false for real trading on Windows
DRY_RUN=false

